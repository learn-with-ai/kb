<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-AIEng/PromptEng/Standard Practices for Text Generation with ChatGPT_content" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">03. Standard Practices for Text Generation with ChatGPT | My Site</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://your-docusaurus-site.example.com/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://your-docusaurus-site.example.com/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://your-docusaurus-site.example.com/docs/AIEng/PromptEng/Standard Practices for Text Generation with ChatGPT_content"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="03. Standard Practices for Text Generation with ChatGPT | My Site"><meta data-rh="true" name="description" content="titles"><meta data-rh="true" property="og:description" content="titles"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-site.example.com/docs/AIEng/PromptEng/Standard Practices for Text Generation with ChatGPT_content"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/docs/AIEng/PromptEng/Standard Practices for Text Generation with ChatGPT_content" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/docs/AIEng/PromptEng/Standard Practices for Text Generation with ChatGPT_content" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="My Site RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="My Site Atom Feed"><link rel="stylesheet" href="/assets/css/styles.1724a0b2.css">
<script src="/assets/js/runtime~main.2d8c9eb9.js" defer="defer"></script>
<script src="/assets/js/main.ed51d313.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">My Site</b></a><a class="navbar__item navbar__link" href="/docs/SE/ModelDriven/Part1_">Tutorial</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/AIEng/AIDevops/Introduction_content">AI Engineering Docs</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/tags">Tags</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/AIEng/AIDevops/Introduction_content">AIDevops</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/AIEng/AIEngineering/Introduction to Building AI Applications with Foundation Models_content">AIEngineering</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/AIEng/LangChain/00Preface_content">LangChain</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/AIEng/PromptEng/The Five Principles of Prompting_content">PromptEng</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/AIEng/PromptEng/The Five Principles of Prompting_content">01. The Five Principles of Prompting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/AIEng/PromptEng/Introduction to Large Language Models for Text Generation_content">02. Introduction to Large Language Models for Text Generation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/AIEng/PromptEng/Standard Practices for Text Generation with ChatGPT_content">03. Standard Practices for Text Generation with ChatGPT</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/AIEng/PromptEng/Advanced Techniques for Text Generation with LangChain_content">04. Advanced Techniques for Text Generation with LangChain</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/AIEng/PromptEng/Vector Databases with FAISS and Pinecone_content">05. Vector Databases with FAISS and Pinecone</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/AIEng/PromptEng/Autonomous Agents with Memory and Tools_content">06. Autonomous Agents with Memory and Tools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/AIEng/PromptEng/Introduction to Diffusion Models for Image Generation_content">07. Introduction to Diffusion Models for Image Generation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/AIEng/PromptEng/Standard Practices for Image Generation with Midjourney_content">08. Standard Practices for Image Generation with Midjourney</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/AIEng/PromptEng/Advanced Techniques for Image Generation with Stable Diffusion_content">09. Advanced Techniques for Image Generation with Stable Diffusion</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/AIEng/PromptEng/Building AI-Powered Applications_content">10. Building AI-Powered Applications</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/AIEng/ScalableAI/Introduction to Scalable AI Systems_content">ScalableAI</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">PromptEng</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">03. Standard Practices for Text Generation with ChatGPT</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>03. Standard Practices for Text Generation with ChatGPT</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="titles">titles<a href="#titles" class="hash-link" aria-label="Direct link to titles" title="Direct link to titles">​</a></h2>
<p>Standard Practices for Text Generation with ChatGPT Advanced Techniques in Text Generation with ChatGPT Advanced Text Processing Techniques with ChatGPT Advanced Techniques in Text Processing with ChatGPT Advanced Prompt Engineering Techniques with ChatGPT Advanced Techniques in Text Generation with ChatGPT</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="summary">summary<a href="#summary" class="hash-link" aria-label="Direct link to summary" title="Direct link to summary">​</a></h2>
<ul>
<li>Chapter 3 focuses on standard practices for text generation with ChatGPT, emphasizing the importance of tailored prompts for maximizing output.</li>
<li>Generating lists with GPT-4 is powerful but requires careful prompt design to avoid pitfalls like unexpected formats or commentary.</li>
<li>Optimizing prompts can control list size, format, and content, such as generating only male Disney characters without film titles.</li>
<li>Hierarchical lists and structured data formats like JSON and YAML are introduced for more complex outputs, such as detailed article outlines.</li>
<li>Regular expressions in Python can parse hierarchical lists into structured data, but JSON and YAML offer more straightforward solutions for structured data generation.</li>
<li>JSON generation with ChatGPT can be streamlined by specifying the format and providing examples, though challenges like invalid payloads may arise.</li>
<li>YAML offers advantages over JSON, including readability, no need to escape characters, and support for comments, making it suitable for complex or nested structures.</li>
<li>Using LLMs for filtering and validating YAML payloads demonstrates their capability as reasoning engines for control flow tasks traditionally requiring programming.</li>
<li>The chapter concludes with strategies for handling invalid payloads and creating Python scripts to manage various LLM response scenarios.</li>
<li>An image description details a decision-making process for generating text using a YAML schema in a chat-based AI system, highlighting considerations around query validation and output formatting.</li>
<li>The chapter delves into advanced techniques for text generation with ChatGPT, including validating YAML responses against custom schemas to ensure compatibility with downstream applications.</li>
<li>Custom exceptions and a validation function are introduced to handle various edge cases in YAML responses, ensuring data integrity and correctness.</li>
<li>ChatGPT&#x27;s versatility is showcased through its ability to generate diverse formats like Mermaid diagrams for flowcharts and mock CSV data for testing purposes.</li>
<li>The &#x27;Explain It like I’m Five&#x27; prompt style is highlighted as an effective method for simplifying complex technical documents into understandable summaries.</li>
<li>Language models&#x27; capabilities as universal translators are explored, demonstrating their proficiency in translating and simplifying text across languages, albeit with some loss in translation.</li>
<li>The importance of providing sufficient context to LLMs for accurate and valuable responses is emphasized, with strategies for refining prompts based on model recommendations.</li>
<li>Text style unbundling is introduced as a technique for extracting and replicating specific textual features, ensuring consistency in tone and style across communications.</li>
<li>The chapter concludes with insights into the evolving boundaries of information and the potential of combining language models with other generative models for multimodal content creation.</li>
<li>An image description details a decision-making flowchart for ChatGPT, emphasizing the model&#x27;s reliance on context-rich inputs for generating informed responses.</li>
<li>Practical steps for implementing these techniques, including code snippets for YAML validation and examples of diverse format generation, are provided throughout the chapter.</li>
<li>Text style unbundling is introduced as a technique to extract and replicate specific textual features like tone, length, and vocabulary, ensuring consistency across communications.</li>
<li>The process involves analyzing a document to create a style writing guide, which is then used to generate new content with similar characteristics.</li>
<li>Summarization techniques are explored as essential tools for condensing large texts into digestible summaries, highlighting AI&#x27;s role in efficient information retrieval.</li>
<li>For documents exceeding an LLM&#x27;s context window, a chunking strategy is recommended, involving splitting the text, summarizing each part, and combining these summaries.</li>
<li>Chunking benefits include fitting within token limits, reducing costs, improving performance, and increasing flexibility, with strategies like splitting by sentence, paragraph, or topic.</li>
<li>Poor chunking examples demonstrate the loss of context and increased processing load, emphasizing the importance of proper text segmentation.</li>
<li>Sentence detection using SpaCy is showcased as a method for preserving context and structure in NLP tasks, with a practical code example provided.</li>
<li>Different chunking strategies are compared in a table, outlining advantages and disadvantages to guide the selection based on specific use cases.</li>
<li>The chapter concludes with the importance of choosing the right chunking strategy to optimize LLM performance and accuracy in text processing tasks.</li>
<li>An image description details a summarization pipeline and a topic extraction process after chunking, illustrating efficient text management with AI tools.</li>
<li>The chapter explores advanced text processing techniques, starting with building a simple chunking algorithm in Python to manage large texts efficiently.</li>
<li>Sliding window chunking is introduced as a method to divide text into overlapping chunks, preserving context and improving LLM performance.</li>
<li>Tiktoken, a fast byte pair encoding tokenizer, is highlighted for its advantages in accurate token breakdown and effective resource utilization with OpenAI models.</li>
<li>Sentiment analysis techniques are discussed, emphasizing the importance of clear instructions, examples, and output format for accurate classification.</li>
<li>The chapter concludes with the least to most technique for detailed knowledge extraction and a brief introduction to planning a Flask web application architecture.</li>
<li>Practical code examples and strategies for text chunking, tokenization, and sentiment analysis are provided to enhance understanding and application.</li>
<li>Challenges in sentiment analysis, such as handling sarcasm and context-specific sentiments, are acknowledged, offering insights into limitations.</li>
<li>The use of Tiktoken for estimating token usage in Chat API calls is explained, aiding in efficient resource management and cost optimization.</li>
<li>An image description illustrates the sliding window technique, providing a visual aid for understanding text chunking in generative AI applications.</li>
<li>The chapter sets the stage for further exploration into Flask application development, hinting at practical applications of the discussed techniques.</li>
<li>The chapter delves into advanced techniques for text generation with ChatGPT, starting with the creation of a simple Flask &#x27;Hello World&#x27; application, including route definition and test case generation.</li>
<li>The least to most technique is highlighted for its benefits in progressive exploration, flexibility, improved comprehension, and collaborative learning, despite challenges like overreliance on prior knowledge.</li>
<li>Role prompting is introduced as a method to guide AI responses by assigning specific roles, enhancing creativity and tailored outputs, while acknowledging potential biases and consistency issues.</li>
<li>Strategies to avoid hallucinations in AI responses are discussed, emphasizing the importance of reference texts and dynamic information retrieval to ensure accuracy.</li>
<li>The concept of giving GPTs &#x27;thinking time&#x27; is explored to improve response accuracy, alongside the inner monologue tactic for hiding reasoning processes in tutoring applications.</li>
<li>Self-evaluation of LLM responses is presented as a method to refine outputs, demonstrated through the iterative improvement of a &#x27;Hello World&#x27; Python function.</li>
<li>Classification with LLMs is covered, distinguishing between zero-shot and few-shot learning strategies for predicting data categories without extensive training.</li>
<li>Practical code examples for Flask applications, sentiment analysis, and Python function improvements are provided, showcasing real-world applications of the discussed techniques.</li>
<li>The importance of evaluating the quality of LLM responses, especially in role prompting and when using reference texts, is emphasized to maintain relevance and accuracy.</li>
<li>The chapter concludes with insights into the versatility of LLMs in classification tasks, leveraging their extensive training for effective zero-shot and few-shot learning.</li>
<li>The chapter explores advanced techniques for text generation with ChatGPT, including zero-shot and few-shot learning for classification tasks, demonstrating how LLMs can classify data with high accuracy without prior examples.</li>
<li>Majority vote classification is introduced as a method to reduce variance in classification labels by soliciting multiple classifications and selecting the most frequent one, though it comes with increased time and cost.</li>
<li>Criteria evaluation using LLMs like GPT-4 to assess responses from smaller models is discussed, highlighting its cost-effectiveness and speed compared to human-based evaluation, despite mixed evidence on its reliability.</li>
<li>Meta prompting is presented as a technique to generate other prompts for creating assets in various mediums, such as image generation from product descriptions or optimizing prompts for specific goals.</li>
<li>The chapter concludes with a summary of key learnings, including the importance of clear directions and examples, and introduces LangChain for creating more advanced prompt engineering workflows in the next chapter.</li>
<li>Practical applications of these techniques are showcased, such as customer reviews classification, email filtering, and social media sentiment analysis, emphasizing the versatility of LLMs in various domains.</li>
<li>The benefits and challenges of role prompting are examined, including its ability to tailor response styles and enhance creativity, while acknowledging potential biases and consistency issues.</li>
<li>A detailed example of building a classification model for sentiment analysis is provided, illustrating the process of few-shot learning to classify text into &#x27;Compliment&#x27;, &#x27;Complaint&#x27;, or &#x27;Neutral&#x27;.</li>
<li>The concept of giving GPTs &#x27;thinking time&#x27; to improve response accuracy is introduced, alongside the inner monologue tactic for hiding reasoning processes in applications like tutoring.</li>
<li>The chapter also touches on the ethical considerations and potential risks of exposing sensitive data to LLMs, advising caution when using emails or résumés for classification tasks.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="code-snippets">code snippets<a href="#code-snippets" class="hash-link" aria-label="Direct link to code snippets" title="Direct link to code snippets">​</a></h2>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Example 3-1. Parsing a hierarchical list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Example 3-2. Parsing a hierarchical list into a Python dictionary</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import re</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class InvalidResponse(Exception):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class InvalidItemType(Exception):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class InvalidItemKeys(Exception):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class InvalidItemName(Exception):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class InvalidItemQuantity(Exception):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class InvalidItemUnit(Exception):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">def validate_response(response, schema):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yaml.safe_load(response)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">graph TD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ChooseFood[Choose Food] --&gt; AddToCart[Add to Cart]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    AddToCart --&gt; ConfirmCart[Confirm Cart]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ConfirmCart --&gt; PayForMeal[Pay for Meal]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import spacy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nlp = spacy.load(&quot;en_core_web_sm&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">text = &quot;This is a sentence. This is another sentence.&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">doc = nlp(text)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">for sent in doc.sents:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    print(sent.text)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">with open(&quot;hubspot_blog_post.txt&quot;, &quot;r&quot;) as f:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">text = f.read()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chunks = [text[i : i + 200] for i in range(0, len(text), 200)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">def sliding_window(text, window_size, step_size):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import tiktoken</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">encoding = tiktoken.get_encoding(&quot;cl100k_base&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">def count_tokens(text_string: str, encoding_name: str) -&gt; int:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">def num_tokens_from_messages(messages, model=&quot;gpt-3.5-turbo-0613&quot;):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">from flask import Flask</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app = Flask(__name__)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@app.route(&#x27;/&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">def hello_world():</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return &#x27;Hello, World!&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">def print_hello_world():</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    print(&quot;Hello, World!&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">def print_message(message: str = &quot;Hello, World!&quot;) -&gt; None:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    print(message)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">from openai import OpenAI</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import os</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">client = OpenAI(api_key=os.environ.get(&quot;OPENAI_API_KEY&quot;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">def most_frequent_classification(responses):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    count_dict = {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for classification in responses:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        count_dict[classification] = count_dict.get(classification, 0) + 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return max(count_dict, key=count_dict.get)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/chat-gpt">ChatGPT</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/text-generation">Text Generation</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/prompt-engineering">Prompt Engineering</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/json">JSON</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/yaml">YAML</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/yaml-validation">YAML Validation</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/mermaid-diagrams">Mermaid Diagrams</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/csv-generation">CSV Generation</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/text-style-unbundling">Text Style Unbundling</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/summarization">Summarization</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/chunking">Chunking</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/spa-cy">SpaCy</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/llm-optimization">LLM Optimization</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/sliding-window">Sliding Window</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/tiktoken">Tiktoken</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/sentiment-analysis">Sentiment Analysis</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/flask">Flask</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/role-prompting">Role Prompting</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/hallucination-avoidance">Hallucination Avoidance</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/thinking-time">Thinking Time</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/classification">Classification</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/majority-vote">Majority Vote</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/criteria-evaluation">Criteria Evaluation</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/meta-prompting">Meta Prompting</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/lang-chain">LangChain</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/AIEng/PromptEng/Introduction to Large Language Models for Text Generation_content"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">02. Introduction to Large Language Models for Text Generation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/AIEng/PromptEng/Advanced Techniques for Text Generation with LangChain_content"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">04. Advanced Techniques for Text Generation with LangChain</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#titles" class="table-of-contents__link toc-highlight">titles</a></li><li><a href="#summary" class="table-of-contents__link toc-highlight">summary</a></li><li><a href="#code-snippets" class="table-of-contents__link toc-highlight">code snippets</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://x.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/learn-with-ai/kb" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>